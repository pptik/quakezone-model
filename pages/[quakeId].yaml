# _id:
#   "$oid": 5d851a8af9208205f4cceea2
kind: Route
key: "[quakeId]"
controller: Content
action: detail
titleStr: Quake detail
icon: wifi
iconSet: Ionicons
createdAt:
  "$date":
    "$numberLong": '1569004170565'
updatedAt:
  "$date":
    "$numberLong": '1569234324851'
__v:
  "$numberInt": '0'
parentPath: quakes
# parent:
#   "$oid": 5d8280bfe21602118cf78234
# project:
#   "$oid": 5d7dd03c74281342a49bfdaf
titleExpr: quakeDetail_panel.data && `${quakeDetail_panel.data.quake.name} - Earthquakes`
pagebricks:
  - key: panel  
    areabrickKey: Panel
    query: |-
      query QuakeDetail($id: String!) {
        quake(id: $id) {
          id, usgsId, name, usgsName,
          originTime, usgsOriginTime, irisOriginTime,
          noaaLocation, noaaTsunami,
          noviantyRuptureDuration, noviantyPWaveDominantPeriod, noviantyT0xtd, noviantyMw,
          mw, usgsMw, irisMw, noaaTsunamiEventId, unknown1,
          usgsDepth, collectionName, collectionPos, usgsEpicenter
        }
      }
    dataExpr: quake
    queryBindings:
      - field: id
        sourceType: router
        sourceField: quakeId
    children:
      - key: name
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Name
          - field: value
            queryField: name
      - key: originTime
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Origin time
          - field: value
            queryField: originTime
      - key: usgsOriginTime
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: USGS origin time
          - field: value
            queryField: usgsOriginTime
      - key: irisOriginTime
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: IRIS origin time
          - field: value
            queryField: irisOriginTime
      - key: noaaLocation
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: NOAA Location
          - field: value
            queryField: noaaLocation
      - key: noaaTsunami
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Tsunami (NOAA)
          - field: value
            queryField: noaaTsunami
      - key: noviantyRuptureDuration
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Novianty rupture duration
          - field: value
            queryField: noviantyRuptureDuration
          - field: suffix
            stringValue: s
      - key: noviantyPWaveDominantPeriod
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Novianty P-wave dominant period
          - field: value
            queryField: noviantyPWaveDominantPeriod
          - field: suffix
            stringValue: s
      - key: noviantyT0xtd
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: T0 Ã— Td (Novianty)
          - field: value
            queryField: noviantyT0xtd
      - key: mw
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Mw
          - field: value
            queryField: mw
      - key: noviantyMw
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Mw (Novianty)
          - field: value
            queryField: noviantyMw
      - key: usgsMw
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Mw (USGS)
          - field: value
            queryField: usgsMw
      - key: irisMw
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: Mw (IRIS)
          - field: value
            queryField: irisMw
      - key: noaaTsunamiEventId
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: NOAA Tsunami Event ID
          - field: value
            queryField: noaaTsunamiEventId
      - key: usgsDepth
        areabrickKey: TextFieldEntry
        bindings:
          - field: label
            stringValue: USGS depth
          - field: value
            queryField: usgsDepth
          - field: suffix
            stringValue: km
      - key: usgsEpicenter
        areabrickKey: GeoPointEntry
        bindings:
          - field: label
            stringValue: Epicenter (USGS)
          - field: featurePoint
            queryField: usgsEpicenter
          - field: featureName
            queryField: name
      - key: usgsId
        areabrickKey: LinkEntry
        bindings:
          - field: label
            stringValue: USGS event ID
          - field: title
            queryField: usgsId
          - field: href
            expr: '`https://earthquake.usgs.gov/earthquakes/eventpage/${quakeDetail_panel.data.quake.usgsId}/executive`'
          - field: target
            stringValue: _blank
